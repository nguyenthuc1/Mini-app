<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Mini App</title>

  <!-- Báº®T BUá»˜C cho Telegram -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link rel="stylesheet" href="style.css">
</head>
<script>
function watchAdAndSail() {
  document.getElementById("sea-area")
    .classList.remove("hidden");
}
</script>
  <script>
let gold = 0;
let fishingInterval = null;
let fishingTimeout = null;

const FISH_DURATION = 3 * 60 * 60 * 1000; // 3 tiáº¿ng
const CATCH_INTERVAL = 2000; // 2 giÃ¢y báº¯t 1 con cÃ¡

function watchAdAndSail() {
  const sea = document.getElementById("sea-area");

  // Náº¿u Ä‘ang ra khÆ¡i thÃ¬ khÃ´ng cho báº¥m láº¡i
  if (fishingInterval) return;

  sea.classList.remove("hidden");

  // Báº¯t cÃ¡ liÃªn tá»¥c
  fishingInterval = setInterval(catchFish, CATCH_INTERVAL);

  // Háº¿t 3 tiáº¿ng thÃ¬ dá»«ng chá»©ng
  fishingTimeout = setTimeout(stopFishing, FISH_DURATION);
}

function catchFish() {
  gold += 1;
  document.getElementById("gold").innerText = gold;

  // Hiá»‡u á»©ng cÃ¡ nháº¥p nhÃ¡y (giáº£ láº­p bá»‹ báº¯t)
  const fishes = document.querySelectorAll(".fish");
  const fish = fishes[Math.floor(Math.random() * fishes.length)];
  fish.style.opacity = "0.2";
  setTimeout(() => fish.style.opacity = "1", 300);
}

function stopFishing() {
  clearInterval(fishingInterval);
  clearTimeout(fishingTimeout);

  fishingInterval = null;
  fishingTimeout = null;

  alert("â›µ Háº¿t chuyáº¿n ra khÆ¡i! Vui lÃ²ng báº¥m Ra khÆ¡i Ä‘á»ƒ tiáº¿p tá»¥c.");
}
  </script>
<body>
  <div id="app">

    <div id="content">
      <div id="screen-khai-thac" class="screen">
<!-- KHU BIá»‚N ÄÃNH CÃ -->
<div id="sea-area" class="sea-area">
  <div class="sea">
    <div class="boat">ğŸš¤</div>
    <div class="fish fish1">ğŸŸ</div>
    <div class="fish fish2">ğŸ </div>
    <div class="fish fish3">ğŸ¡</div>
  </div>
</div>
  <div class="ocean-wrapper">
    <div class="ocean-card">

      <div class="sea-header">
        ğŸ£ ÄÃ¡nh cÃ¡ kiáº¿m xu
      </div>

      <div class="ocean-info">
        <div>âš¡ Tá»‘c Ä‘á»™: <span id="speed">0</span> cÃ¡/giÃ¢y</div>
        <div>ğŸ’° Xu: <span id="gold">0</span></div>
      </div>

      <button class="sail-btn" onclick="watchAdAndSail()">
        ğŸš¤ Ra khÆ¡i
      </button>

      <div class="hint">
        Xem quáº£ng cÃ¡o Ä‘á»ƒ ra khÆ¡i vÃ  báº¯t cÃ¡
      </div>

    </div>
  </div>

      </div>
