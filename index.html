<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Nhiá»‡m vá»¥ kiáº¿m tiá»n</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body{
  font-family: Arial;
  background:#0f172a;
  color:white;
  padding:15px;
}
.task{
  background:#1e293b;
  padding:12px;
  margin-bottom:10px;
  border-radius:8px;
}
button{
  padding:8px 12px;
  border:none;
  border-radius:5px;
  background:#22c55e;
  color:black;
  font-weight:bold;
}
.done{background:#64748b;}
</style>
</head>

<body>
<h2>ğŸ’° Nhiá»‡m vá»¥ kiáº¿m tiá»n</h2>
<p id="user"></p>
<p>ğŸ’ Äiá»ƒm: <span id="point">0</span></p>

<div class="task">
  ğŸ“¢ Tham gia Telegram  
  <br><br>
  <button onclick="task(1,'https://t.me/telegram')">LÃ m nhiá»‡m vá»¥</button>
</div>

<div class="task">
  ğŸŒ Truy cáº­p website  
  <br><br>
  <button onclick="task(2,'https://google.com')">LÃ m nhiá»‡m vá»¥</button>
</div>

<div class="task">
  ğŸ“… Äiá»ƒm danh hÃ´m nay  
  <br><br>
  <button onclick="daily()">Äiá»ƒm danh</button>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

const userId = tg.initDataUnsafe.user.id;
document.getElementById("user").innerText = "ğŸ‘¤ User ID: " + userId;

let point = Number(localStorage.getItem("point_"+userId)) || 0;
document.getElementById("point").innerText = point;

function task(id,link){
  let key = "task_"+id+"_"+userId;
  if(localStorage.getItem(key)){
    alert("âŒ Báº¡n Ä‘Ã£ lÃ m nhiá»‡m vá»¥ nÃ y");
    return;
  }
  window.open(link);
  localStorage.setItem(key,true);
  addPoint(10);
}

function daily(){
  let today = new Date().toDateString();
  let key = "daily_"+userId;
  if(localStorage.getItem(key) === today){
    alert("âŒ HÃ´m nay Ä‘Ã£ Ä‘iá»ƒm danh");
    return;
  }
  localStorage.setItem(key,today);
  addPoint(5);
}

function addPoint(x){
  point += x;
  localStorage.setItem("point_"+userId,point);
  document.getElementById("point").innerText = point;
}
</script>
</body>
</html>
