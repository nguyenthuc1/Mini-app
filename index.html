<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>VÆ°á»£t Link Kiáº¿m Tiá»n</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  background: #020617;
  color: #e5e7eb;
  font-family: Arial;
  text-align: center;
  padding: 20px;
}
.box {
  background: #0f172a;
  padding: 20px;
  border-radius: 12px;
}
button {
  padding: 12px 20px;
  font-size: 18px;
  border-radius: 8px;
  background: #22c55e;
  border: none;
  color: black;
}
</style>
</head>

<body>

<div class="box">
  <h2>ğŸ”— VÆ¯á»¢T LINK KIáº¾M TIá»€N</h2>
  <p>ID: <b id="uid"></b></p>
  <p>Sá»‘ dÆ°: <b id="coin">0</b> Ä‘iá»ƒm</p>

  <button onclick="startBypass()">ğŸš€ Báº¯t Ä‘áº§u vÆ°á»£t link</button>
</div>

<script>
const tg = Telegram.WebApp;
tg.expand();

const userId = tg.initDataUnsafe.user.id;
let coin = parseInt(localStorage.getItem("coin_" + userId)) || 0;

document.getElementById("uid").innerText = userId;
document.getElementById("coin").innerText = coin;

let startTime = 0;
let doing = false;

function startBypass() {
  if (doing) {
    tg.showAlert("âŒ Äang vÆ°á»£t link rá»“i");
    return;
  }

  doing = true;
  startTime = Date.now();

  // ğŸ”— LINK RÃšT Gá»ŒN / LINKVERTISE
  window.open("https://link4m.com/xHprfP", "_blank");

  tg.showAlert(" Vui lÃ²ng vÆ°á»£t link vÃ  quay láº¡i sau khi vÆ°á»£t ");
}

document.addEventListener("visibilitychange", () => {
  if (!doing) return;

  if (!document.hidden) {
    let time = Math.floor((Date.now() - startTime) / 1000);

    if (time >= 60) {
      finishBypass();
    } else {
      tg.showAlert("âŒ chÆ°a hoÃ n thÃ nh!");
      doing = false;
    }
  }
});

function finishBypass() {
  doing = false;

  coin += 150;
  localStorage.setItem("coin_" + userId, coin);
  document.getElementById("coin").innerText = coin;

  tg.showAlert("ğŸ‰ ThÃ nh cÃ´ng! +150 Ä‘iá»ƒm");
}
</script>

</body>
</html>
